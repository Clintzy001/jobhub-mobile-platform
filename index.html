<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JOBHUB | Nigeria's #1 Marketplace</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --brand: #4A148C; }
        .dark { background-color: #121212; color: white; }
        .dark .bg-white { background-color: #1E1E1E; color: white; }
        .brand-purple { background-color: var(--brand); }
        .text-brand-purple { color: var(--brand); }
        .modal-animate { animation: slideUp 0.3s ease-out; }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
        .market-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .active-nav { color: var(--brand) !important; }
    </style>
</head>
<body id="body" class="bg-gray-50 min-h-screen pb-24 font-sans transition-colors duration-300">

    <header class="bg-white px-6 py-4 flex justify-between items-center shadow-sm sticky top-0 z-40">
        <h1 class="text-2xl font-black tracking-tighter text-brand-purple italic">JOBHUB</h1>
        <div class="flex gap-4 items-center text-gray-400">
            <select id="langSwitch" onchange="changeLanguage()" class="bg-gray-100 text-[10px] font-bold p-1 rounded border-none dark:bg-gray-700">
                <option value="en">EN</option><option value="ig">IG</option><option value="yo">YO</option><option value="ha">HA</option>
            </select>
            <button onclick="toggleDarkMode()"><i class="fas fa-moon text-lg" id="themeIcon"></i></button>
            <button onclick="toggleSearch()"><i class="fas fa-search text-lg"></i></button>
        </div>
    </header>

    <div class="flex justify-center gap-2 py-6 px-4 bg-white dark:bg-transparent shadow-sm">
        <button id="jobTab" onclick="switchTab('jobs')" class="brand-purple text-white px-6 py-2 rounded-xl font-bold text-xs transition-all">Jobs</button>
        <button id="adTab" onclick="switchTab('ads')" class="bg-gray-200 text-gray-600 px-6 py-2 rounded-xl font-bold text-xs transition-all">Ads</button>
        <button id="marketTab" onclick="switchTab('market')" class="bg-gray-200 text-gray-600 px-6 py-2 rounded-xl font-bold text-xs transition-all">Market</button>
    </div>

    <div id="categorySection" class="hidden flex gap-3 py-4 overflow-x-auto px-5 no-scrollbar">
        <button onclick="filterCategory('all')" class="brand-purple text-white px-5 py-2 rounded-full text-[10px] font-bold whitespace-nowrap">All Items</button>
        <button onclick="filterCategory('Animals')" class="bg-white border px-4 py-2 rounded-full text-[10px] font-bold whitespace-nowrap dark:text-black">üêï Animals</button>
        <button onclick="filterCategory('Lands')" class="bg-white border px-4 py-2 rounded-full text-[10px] font-bold whitespace-nowrap dark:text-black">üèòÔ∏è Lands</button>
        <button onclick="filterCategory('Used')" class="bg-white border px-4 py-2 rounded-full text-[10px] font-bold whitespace-nowrap dark:text-black">üì¶ Used</button>
        <button onclick="filterCategory('New')" class="bg-white border px-4 py-2 rounded-full text-[10px] font-bold whitespace-nowrap dark:text-black">‚ú® New</button>
    </div>

    <main class="px-5 mt-2 space-y-4" id="listingContainer"></main>

    <nav class="fixed bottom-0 w-full bg-white border-t flex justify-around items-center py-4 shadow-lg z-50">
        <div onclick="switchTab('jobs')" class="flex flex-col items-center cursor-pointer text-gray-400" id="bottom-home">
            <i class="fas fa-home text-xl"></i><span class="text-[10px] font-bold">Home</span>
        </div>
        <div onclick="toggleSearch()" class="flex flex-col items-center text-gray-400 cursor-pointer">
            <i class="fas fa-search text-xl"></i><span class="text-[10px] font-bold">Search</span>
        </div>
        <div class="relative -top-8">
            <button onclick="toggleModal()" class="brand-purple w-16 h-16 rounded-full shadow-2xl text-white border-4 border-white"><i class="fas fa-plus text-2xl"></i></button>
        </div>
        <div onclick="openGeneralChat()" class="flex flex-col items-center text-gray-400 cursor-pointer">
            <i class="fas fa-comment-dots text-xl"></i><span class="text-[10px] font-bold">Chats</span>
        </div>
        <div onclick="switchTab('market')" class="flex flex-col items-center text-gray-400 cursor-pointer" id="bottom-market">
            <i class="fas fa-store text-xl"></i><span class="text-[10px] font-bold">Market</span>
        </div>
    </nav>

    <div id="postModal" class="fixed inset-0 bg-white z-[60] p-6 hidden flex-col modal-animate dark:bg-black">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-black">Post Listing</h2>
            <button onclick="toggleModal()" class="w-10 h-10 bg-gray-100 rounded-full dark:text-black"><i class="fas fa-times"></i></button>
        </div>
        <div class="space-y-4 flex-1">
             <input type="text" id="listingTitle" placeholder="What are you posting?" class="w-full p-4 bg-gray-50 border rounded-2xl dark:text-black">
             <div class="p-4 rounded-2xl border-2 border-dashed border-purple-200 bg-purple-50 text-xs text-brand-purple">
                 <p><strong>OPay:</strong> 6119361548</p>
                 <p><strong>Name:</strong> Clinton Chukwuebuka Oleka</p>
             </div>
        </div>
        <button onclick="sendWhatsAppReceipt()" class="w-full py-4 bg-[#25D366] text-white rounded-2xl font-bold">Verify & Post</button>
    </div>

    <script src="shop.js"></script>
    <script>
        function switchTab(type) {
            currentType = type;
            const catSec = document.getElementById('categorySection');
            const tabs = { jobs: 'jobTab', ads: 'adTab', market: 'marketTab' };
            const btmHome = document.getElementById('bottom-home');
            const btmMarket = document.getElementById('bottom-market');

            // Toggle UI Buttons
            Object.keys(tabs).forEach(key => {
                const btn = document.getElementById(tabs[key]);
                if(key === type) {
                    btn.className = "brand-purple text-white px-6 py-2 rounded-xl font-bold text-xs shadow-md";
                } else {
                    btn.className = "bg-gray-200 text-gray-600 px-6 py-2 rounded-xl font-bold text-xs";
                }
            });

            // Toggle Bottom Nav Icons
            btmHome.classList.toggle('active-nav', type === 'jobs');
            btmMarket.classList.toggle('active-nav', type === 'market');

            if (type === 'market') {
                catSec.classList.remove('hidden');
                renderListings(marketData, 'market');
            } else if (type === 'ads') {
                catSec.classList.add('hidden');
                renderListings(adData, 'ads');
            } else {
                catSec.classList.add('hidden');
                renderListings(jobData, 'jobs');
            }
        }
        window.onload = () => switchTab('jobs');
    </script>
</body>
</html>
